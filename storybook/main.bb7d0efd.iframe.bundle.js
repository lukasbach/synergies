(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"../synergies-storybook-middleware/lib/esm/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return StorybookMiddlewareProvider}));__webpack_require__("../../node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.join.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.map.js");var synergies__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../synergies/lib/esm/index.js"),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../synergies-storybook-middleware/node_modules/@storybook/addon-actions/dist/esm/index.js"),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),StorybookMiddleware=function StorybookMiddleware(next){return function(updates){var namedAtoms=updates.filter((function(_a){return void 0!==_a.atom.name})),message="".concat(updates.length," atoms updated");if(namedAtoms.length>0){var names=namedAtoms.map((function(_a){return _a.atom.name})).join(", ");if(message+=": ".concat(names),namedAtoms.length<updates.length){var otherCount=updates.length-namedAtoms.length;message+=", and ".concat(otherCount," unnamed atoms")}}Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_5__.action)(message)(updates),next(updates)}},StorybookMiddlewareProvider=function StorybookMiddlewareProvider(_a){var children=_a.children;return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(synergies__WEBPACK_IMPORTED_MODULE_4__.a,{middlewares:[StorybookMiddleware]},children)};StorybookMiddlewareProvider.__docgenInfo={description:"",methods:[],displayName:"StorybookMiddlewareProvider"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../synergies-storybook-middleware/lib/esm/index.js"]={name:"StorybookMiddlewareProvider",docgenInfo:StorybookMiddlewareProvider.__docgenInfo,path:"../synergies-storybook-middleware/lib/esm/index.js"})},"../synergies/lib/esm/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return middleware_provider_MiddlewareProvider})),__webpack_require__.d(__webpack_exports__,"c",(function(){return helpers_createAtom})),__webpack_require__.d(__webpack_exports__,"d",(function(){return helpers_createSynergy})),__webpack_require__.d(__webpack_exports__,"b",(function(){return Provider}));var immer_esm=__webpack_require__("../../node_modules/immer/dist/immer.esm.js"),react=__webpack_require__("../../node_modules/react/index.js"),react_default=__webpack_require__.n(react),SynergyContext=react_default.a.createContext(null),MiddlewareContext=react_default.a.createContext(null),middleware_provider_MiddlewareProvider=Object(react.memo)((function MiddlewareProvider(props){return react_default.a.createElement(MiddlewareContext.Provider,{value:props.middlewares},props.children)}),(function(prev,next){return prev.children===next.children})),use_synergy_context_useSynergyContext=(__webpack_require__("../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.create.js"),__webpack_require__("../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../node_modules/core-js/modules/es.promise.js"),__webpack_require__("../../node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("../../node_modules/core-js/modules/es.set.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.for-each.js"),function useSynergyContext(){return Object(react.useContext)(SynergyContext)}),use_atom_lookup_useAtomLookup=function useAtomLookup(){var context=use_synergy_context_useSynergyContext(),recursiveResolve=Object(react.useCallback)((function(atom,target){if(!target)throw new Error("Atom provider ".concat(atom.id.description," not found"));return Object.prototype.hasOwnProperty.call(target.atoms.current,atom.id)?target.atoms.current[atom.id]:recursiveResolve(atom,target.parent)}),[context]);return Object(react.useCallback)((function(atom){return recursiveResolve(atom,context)}),[recursiveResolve])},__awaiter=(__webpack_require__("../../node_modules/core-js/modules/web.dom-collections.for-each.js"),function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))}),__generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function sent(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},produce_atoms_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},produce_atoms_generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function sent(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},produce_atoms_createCustomDraft=function createCustomDraft(current,onTrigger){var draft=Object(immer_esm.a)({current:current,trigger:function trigger(){var value=Object(immer_esm.c)(draft),newDraft=createCustomDraft(value,onTrigger);return onTrigger(value.current,newDraft),newDraft}});return draft},produce_atoms_produceAtoms=function produceAtoms(atomBaseValues,updater,onTrigger){return produce_atoms_awaiter(void 0,void 0,void 0,(function(){var drafts,updateResult;return produce_atoms_generator(this,(function(_a){switch(_a.label){case 0:return drafts=atomBaseValues.map((function(current,index){return produce_atoms_createCustomDraft(current,(function(value,newDraft){onTrigger(index,value),drafts[index]=newDraft}))})),(updateResult=updater.apply(void 0,drafts))instanceof Promise?[4,updateResult]:[3,2];case 1:_a.sent(),_a.label=2;case 2:return[2,drafts.map((function(draft){var hasChanged=!1,value=Object(immer_esm.c)(draft,(function(patches){hasChanged=patches.length>0}));return hasChanged?value.current:NO_UPDATE}))]}}))}))},use_middleware_pipe_awaiter=(__webpack_require__("../../node_modules/core-js/modules/es.array.slice.js"),function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))}),use_middleware_pipe_generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function sent(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},__spreadArray=function(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))};function compose(funcs,atoms){return use_middleware_pipe_awaiter(this,void 0,void 0,(function(){var result;return use_middleware_pipe_generator(this,(function(_a){switch(_a.label){case 0:return 0===funcs.length?[2,atoms]:[4,new Promise((function(res,rej){try{funcs.pop()((function(updatedAtoms){return res(updatedAtoms)}))(atoms)}catch(e){rej(e)}}))];case 1:return result=_a.sent(),[2,compose(funcs,result)]}}))}))}var _extendStatics,use_middleware_pipe_useMiddlewarePipe=function useMiddlewarePipe(){var context=function useMiddlewareContext(){return Object(react.useContext)(MiddlewareContext)}();return Object(react.useCallback)((function(atoms){return use_middleware_pipe_awaiter(void 0,void 0,void 0,(function(){return use_middleware_pipe_generator(this,(function(_a){switch(_a.label){case 0:return[4,compose(context?__spreadArray([],context,!0):[],atoms)];case 1:return[2,_a.sent()]}}))}))}),[context])},synergy_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},synergy_generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function sent(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},synergy_Synergy=function(){function Synergy(atoms){this.atoms=atoms===ATOM_CONSTRUCTOR?[this]:atoms.map((function(atom){return atom.atoms})).reduce((function(acc,cur){return acc.concat(cur)}),[])}return Synergy.prototype.combine=function(){for(var otherSynergies=[],_i=0;_i<arguments.length;_i++)otherSynergies[_i]=arguments[_i];return new Synergy(otherSynergies.reduce((function(acc,s){return acc.concat(s.atoms)}),this.atoms))},Synergy.prototype.createSelector=function(selectorFn){var _this=this;return function useSelector(){var lookupAtom=use_atom_lookup_useAtomLookup(),fetch=Object(react.useCallback)((function(){return _this.atoms.map((function(atom){return lookupAtom(atom).value}))}),[lookupAtom]),_a=Object(react.useReducer)(fetch,fetch()),atomState=_a[0],listener=_a[1];return function useSubscribe(atoms,listener){var lookupAtom=use_atom_lookup_useAtomLookup();Object(react.useEffect)((function(){for(var _i=0,atoms_1=atoms;_i<atoms_1.length;_i++){var atom=atoms_1[_i];lookupAtom(atom).listeners.add(listener)}return function(){for(var _i=0,atoms_2=atoms;_i<atoms_2.length;_i++){var atom=atoms_2[_i];lookupAtom(atom).listeners.delete(listener)}}}),[lookupAtom])}(_this.atoms,listener),Object(react.useMemo)((function(){return selectorFn.apply(void 0,atomState)}),[atomState])}},Synergy.prototype.createAction=function(handler){var _this=this;return function useAction(){var triggerUpdate=function useTriggerUpdate(){var lookupAtom=use_atom_lookup_useAtomLookup();return Object(react.useCallback)((function(atoms){return __awaiter(void 0,void 0,void 0,(function(){var listeners,_i,listeners_1;return __generator(this,(function(_a){for(listeners=atoms.map((function(atom){return lookupAtom(atom).listeners})),_i=0,listeners_1=listeners;_i<listeners_1.length;_i++)listeners_1[_i].forEach((function(listener){return listener()}));return[2]}))}))}),[])}(),lookupAtom=use_atom_lookup_useAtomLookup(),middlewarePipe=use_middleware_pipe_useMiddlewarePipe();return Object(react.useCallback)((function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return synergy_awaiter(_this,void 0,void 0,(function(){var lookedupAtoms,result,pipedAtoms,updatedAtoms,_this=this;return synergy_generator(this,(function(_a){switch(_a.label){case 0:return lookedupAtoms=this.atoms.map((function(atom){return lookupAtom(atom)})),[4,produce_atoms_produceAtoms(lookedupAtoms.map((function(atom){return atom.value})),handler.apply(void 0,args),(function(triggeredAtomIndex,updatedValue){lookedupAtoms[triggeredAtomIndex].value=updatedValue,triggerUpdate([_this.atoms[triggeredAtomIndex]])}))];case 1:return result=_a.sent(),[4,middlewarePipe(result.map((function(value,index){return{atom:_this.atoms[index],prev:lookedupAtoms[index].value,value:value}})))];case 2:return pipedAtoms=_a.sent(),updatedAtoms=pipedAtoms.map((function(_a){return _a.value})).map((function(updatedValue,index){if(updatedValue===NO_UPDATE)return null;var atom=_this.atoms[index];return lookedupAtoms[index].value=updatedValue,atom})).filter((function(atom){return!!atom})),updatedAtoms.length>0&&triggerUpdate(updatedAtoms),[2]}}))}))}),[handler,triggerUpdate,lookupAtom])}},Synergy.prototype.createProviderState=function(initialState){return this.atoms.reduce((function(acc,atom){var _a;return acc[atom.id]={listeners:new Set,value:null!==(_a=null==initialState?void 0:initialState[atom.id])&&void 0!==_a?_a:atom.defaultValue},acc}),{})},Synergy.prototype.useValue=function(){return this.createSelector(arrayIdentity)()},Synergy.prototype.useSet=function(){return this.createAction((function(){for(var values=[],_i=0;_i<arguments.length;_i++)values[_i]=arguments[_i];return function(){for(var drafts=[],_i=0;_i<arguments.length;_i++)drafts[_i]=arguments[_i];drafts.forEach((function(draft,index){drafts[index].current=values[index]}))}}))()},Synergy}(),__extends=(_extendStatics=function extendStatics(d,b){return _extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},_extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}_extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),atom_Atom=function(_super){function Atom(defaultValue,name){var _this=_super.call(this,ATOM_CONSTRUCTOR)||this;return _this.defaultValue=defaultValue,_this.name=name,_this.id=Symbol(name),_this}return __extends(Atom,_super),Atom.prototype.createInitialValue=function(value){var _a;return(_a={})[this.id]=value,_a},Atom}(synergy_Synergy),ATOM_CONSTRUCTOR=Symbol("ATOM_CONSTRUCTOR"),NO_UPDATE=Symbol("NO_UPDATE"),helpers_createAtom=function createAtom(defaultValue,name){return new atom_Atom(defaultValue,name)},helpers_createSynergy=function createSynergy(){for(var atoms=[],_i=0;_i<arguments.length;_i++)atoms[_i]=arguments[_i];return new synergy_Synergy(atoms)},arrayIdentity=function arrayIdentity(){for(var x=[],_i=0;_i<arguments.length;_i++)x[_i]=arguments[_i];return x};function SynergyProvider(props){var parent=use_synergy_context_useSynergyContext(),atoms=Object(react.useRef)(new synergy_Synergy(props.atoms).createProviderState(props.initialValue)),contextValue=Object(react.useMemo)((function(){return{parent:parent,atoms:atoms}}),[]);return react_default.a.createElement(SynergyContext.Provider,{value:contextValue},props.children)}var Provider=Object(react.memo)(SynergyProvider,(function(prev,next){return prev.children===next.children}));SynergyProvider.__docgenInfo={description:"",methods:[],displayName:"SynergyProvider"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../synergies/lib/esm/provider.js"]={name:"SynergyProvider",docgenInfo:SynergyProvider.__docgenInfo,path:"../synergies/lib/esm/provider.js"}),Object(immer_esm.b)()},"./ sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|mdx|ts|tsx))$":function(module,exports,__webpack_require__){var map={"./src/multiple-middlewares.stories.tsx":"./src/multiple-middlewares.stories.tsx","./src/server-calls.stories.tsx":"./src/server-calls.stories.tsx","./src/todo-list.stories.tsx":"./src/todo-list.stories.tsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./ sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|mdx|ts|tsx))$"},"./.storybook/preview.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"decorators",(function(){return decorators}));__webpack_require__("../../node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("../../node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.define-property.js");var ClientApi=__webpack_require__("../../node_modules/@storybook/react/node_modules/@storybook/client-api/dist/esm/ClientApi.js"),esm=__webpack_require__("../../node_modules/@storybook/react/node_modules/@storybook/client-logger/dist/esm/index.js"),jsx_runtime=(__webpack_require__("../../node_modules/normalize.css/normalize.css"),__webpack_require__("../../node_modules/@blueprintjs/core/lib/css/blueprint.css"),__webpack_require__("../../node_modules/@blueprintjs/icons/lib/css/blueprint-icons.css"),__webpack_require__("../../node_modules/react/jsx-runtime.js"));Object(ClientApi.f)({layout:"fullscreen"});var decorators=[function(Story){return Object(jsx_runtime.jsx)("div",{style:{margin:"8px"},children:Object(jsx_runtime.jsx)(Story,{})})}];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(ClientApi.d)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.e)(loader,!1)}));case"parameters":return Object(ClientApi.f)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.b)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"render":return Object(ClientApi.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.f)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./generated-stories-entry.js":function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__("../../node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./ sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|mdx|ts|tsx))$")],module,!1)}).call(this,__webpack_require__("../../node_modules/webpack/buildin/module.js")(module))},"./src/multiple-middlewares.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"MultiMiddlewares",(function(){return multiple_middlewares_stories_MultiMiddlewares})),__webpack_require__.d(__webpack_exports__,"LoggingMiddlewareExample",(function(){return multiple_middlewares_stories_LoggingMiddlewareExample})),__webpack_require__.d(__webpack_exports__,"StorybookMiddlewareExample",(function(){return multiple_middlewares_stories_StorybookMiddlewareExample}));__webpack_require__("../../node_modules/core-js/modules/es.array.join.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.from.js");var esm=__webpack_require__("../synergies/lib/esm/index.js"),components=__webpack_require__("../../node_modules/@blueprintjs/core/lib/esm/components/index.js"),react=__webpack_require__("../../node_modules/react/index.js"),react_default=__webpack_require__.n(react),dist_esm=__webpack_require__("../../node_modules/@storybook/addon-actions/dist/esm/index.js"),lib_esm=__webpack_require__("../synergies-storybook-middleware/lib/esm/index.js"),LoggingMiddleware=(__webpack_require__("../../node_modules/core-js/modules/es.array.filter.js"),function LoggingMiddleware(next){return function(updates){var _a,namedAtoms=updates.filter((function(_a){return void 0!==_a.atom.name})),message="".concat(updates.length," atoms updated");if(namedAtoms.length>0){var names=namedAtoms.map((function(_a){return _a.atom.name})).join(", ");if(message+=": ".concat(names),namedAtoms.length<updates.length){var otherCount=updates.length-namedAtoms.length;message+=", and ".concat(otherCount," unnamed atoms")}}console.groupCollapsed(message);for(var _i=0,updates_1=updates;_i<updates_1.length;_i++){var _b=updates_1[_i],atom=_b.atom,value=_b.value,prev=_b.prev;console.log("Updated atom ".concat(null!==(_a=atom.name)&&void 0!==_a?_a:"with default value ".concat(atom.defaultValue),":"),prev,"->",value)}console.groupEnd(),next(updates)}}),esm_LoggingMiddlewareProvider=function LoggingMiddlewareProvider(_a){var children=_a.children;return react_default.a.createElement(esm.a,{middlewares:[LoggingMiddleware]},children)};esm_LoggingMiddlewareProvider.__docgenInfo={description:"",methods:[],displayName:"LoggingMiddlewareProvider"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../synergies-logging-middleware/lib/esm/index.js"]={name:"LoggingMiddlewareProvider",docgenInfo:esm_LoggingMiddlewareProvider.__docgenInfo,path:"../synergies-logging-middleware/lib/esm/index.js"});var _parameters,jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var countAtom=Object(esm.c)(0,"count"),useIncrease=countAtom.createAction((function(){return function(value){value.current++}})),multiple_middlewares_stories_CounterButton=function CounterButton(){var increase=useIncrease(),value=_slicedToArray(countAtom.useValue(),1)[0];return Object(jsx_runtime.jsxs)(components.a,{onClick:increase,children:["Click to increase ",value]})};multiple_middlewares_stories_CounterButton.displayName="CounterButton";var multiple_middlewares_stories_middleware1=function middleware1(next){return function(atoms){Object(dist_esm.action)("middleware1 handled actions "+atoms.map((function(_ref){return _ref.atom.name})).join(", "))(),next(atoms)}},multiple_middlewares_stories_middleware2=function middleware2(next){return function(atoms){var crash=Math.random()>.6;if(Object(dist_esm.action)("middleware2 handled actions "+atoms.map((function(_ref2){return _ref2.atom.name})).join(", ")+" "+(crash?"and decided to crashed":"and continued"))(),crash)throw new Error("middleware2 crashed");next(atoms)}},multiple_middlewares_stories_middleware3=function middleware3(next){return function(atoms){Object(dist_esm.action)("middleware3 handled actions "+atoms.map((function(_ref3){return _ref3.atom.name})).join(", "))(),next(atoms)}},multiple_middlewares_stories_MultiMiddlewares=function MultiMiddlewares(){return Object(jsx_runtime.jsx)(esm.a,{middlewares:[multiple_middlewares_stories_middleware3,multiple_middlewares_stories_middleware2,multiple_middlewares_stories_middleware1],children:Object(jsx_runtime.jsxs)(esm.b,{atoms:[countAtom],children:[Object(jsx_runtime.jsx)(multiple_middlewares_stories_CounterButton,{}),Object(jsx_runtime.jsx)("br",{}),"Demo shows how multiple middlewares can be applied, and they are called in sequence. In this example, the second middleware randomly crashes, causing the third middleware to be skipped and the action will not further be processed."]})})};multiple_middlewares_stories_MultiMiddlewares.displayName="MultiMiddlewares";var multiple_middlewares_stories_LoggingMiddlewareExample=function LoggingMiddlewareExample(){return Object(jsx_runtime.jsx)(esm_LoggingMiddlewareProvider,{children:Object(jsx_runtime.jsxs)(esm.b,{atoms:[countAtom],children:[Object(jsx_runtime.jsx)(multiple_middlewares_stories_CounterButton,{}),"See console for the middleware logs."]})})};multiple_middlewares_stories_LoggingMiddlewareExample.displayName="LoggingMiddlewareExample";var multiple_middlewares_stories_StorybookMiddlewareExample=function StorybookMiddlewareExample(){return Object(jsx_runtime.jsx)(lib_esm.a,{children:Object(jsx_runtime.jsxs)(esm.b,{atoms:[countAtom],children:[Object(jsx_runtime.jsx)(multiple_middlewares_stories_CounterButton,{}),"See actions tab for middleware action logs."]})})};multiple_middlewares_stories_StorybookMiddlewareExample.displayName="StorybookMiddlewareExample";__webpack_exports__.default={parameters:(_parameters={storySource:{source:'\n    \n    // @ts-nocheck\n    // @ts-ignore\n    var __STORY__ = "import {\\n  createAtom,\\n  MiddlewareProvider,\\n  Middleware,\\n  SynergyProvider,\\n} from \\"synergies\\";\\nimport { Button } from \\"@blueprintjs/core\\";\\nimport React from \\"react\\";\\nimport { action } from \\"@storybook/addon-actions\\";\\nimport { StorybookMiddlewareProvider } from \\"synergies-storybook-middleware\\";\\nimport { LoggingMiddlewareProvider } from \\"synergies-logging-middleware\\";\\n\\nconst countAtom = createAtom(0, \\"count\\");\\nconst useIncrease = countAtom.createAction(() => value => {\\n  value.current++;\\n});\\n\\nconst CounterButton = () => {\\n  const increase = useIncrease();\\n  const [value] = countAtom.useValue();\\n  return <Button onClick={increase}>Click to increase {value}</Button>;\\n};\\n\\nconst middleware1: Middleware = next => atoms => {\\n  action(\\n    `middleware1 handled actions ${atoms\\n      .map(({ atom }) => atom.name)\\n      .join(\\", \\")}`\\n  )();\\n  next(atoms);\\n};\\n\\nconst middleware2: Middleware = next => atoms => {\\n  const crash = Math.random() > 0.6;\\n  action(\\n    `middleware2 handled actions ${atoms\\n      .map(({ atom }) => atom.name)\\n      .join(\\", \\")} ${crash ? \\"and decided to crashed\\" : \\"and continued\\"}`\\n  )();\\n  if (crash) {\\n    throw new Error(\\"middleware2 crashed\\");\\n  } else {\\n    next(atoms);\\n  }\\n};\\n\\nconst middleware3: Middleware = next => atoms => {\\n  action(\\n    `middleware3 handled actions ${atoms\\n      .map(({ atom }) => atom.name)\\n      .join(\\", \\")}`\\n  )();\\n  next(atoms);\\n};\\n\\nexport const MultiMiddlewares = () => (\\n  <MiddlewareProvider middlewares={[middleware3, middleware2, middleware1]}>\\n    <SynergyProvider atoms={[countAtom]}>\\n      <CounterButton />\\n      <br />\\n      Demo shows how multiple middlewares can be applied, and they are called in\\n      sequence. In this example, the second middleware randomly crashes, causing\\n      the third middleware to be skipped and the action will not further be\\n      processed.\\n    </SynergyProvider>\\n  </MiddlewareProvider>\\n);\\n\\nexport const LoggingMiddlewareExample = () => (\\n  <LoggingMiddlewareProvider>\\n    <SynergyProvider atoms={[countAtom]}>\\n      <CounterButton />\\n      See console for the middleware logs.\\n    </SynergyProvider>\\n  </LoggingMiddlewareProvider>\\n);\\n\\nexport const StorybookMiddlewareExample = () => (\\n  <StorybookMiddlewareProvider>\\n    <SynergyProvider atoms={[countAtom]}>\\n      <CounterButton />\\n      See actions tab for middleware action logs.\\n    </SynergyProvider>\\n  </StorybookMiddlewareProvider>\\n);\\n\\nexport default {\\n  title: \\"Middlewares\\",\\n};\\n";\n    // @ts-ignore\n    var __LOCATIONS_MAP__ = {"MultiMiddlewares":{"startLoc":{"col":32,"line":56},"endLoc":{"col":1,"line":67},"startBody":{"col":32,"line":56},"endBody":{"col":1,"line":67}},"LoggingMiddlewareExample":{"startLoc":{"col":40,"line":69},"endLoc":{"col":1,"line":76},"startBody":{"col":40,"line":69},"endBody":{"col":1,"line":76}},"StorybookMiddlewareExample":{"startLoc":{"col":42,"line":78},"endLoc":{"col":1,"line":85},"startBody":{"col":42,"line":78},"endBody":{"col":1,"line":85}}};\n    \nimport {\n  createAtom,\n  MiddlewareProvider,\n  Middleware,\n  SynergyProvider,\n} from "synergies";\nimport { Button } from "@blueprintjs/core";\nimport React from "react";\nimport { action } from "@storybook/addon-actions";\nimport { StorybookMiddlewareProvider } from "synergies-storybook-middleware";\nimport { LoggingMiddlewareProvider } from "synergies-logging-middleware";\n\nconst countAtom = createAtom(0, "count");\nconst useIncrease = countAtom.createAction(() => value => {\n  value.current++;\n});\n\nconst CounterButton = () => {\n  const increase = useIncrease();\n  const [value] = countAtom.useValue();\n  return <Button onClick={increase}>Click to increase {value}</Button>;\n};\n\nconst middleware1: Middleware = next => atoms => {\n  action(\n    `middleware1 handled actions ${atoms\n      .map(({ atom }) => atom.name)\n      .join(", ")}`\n  )();\n  next(atoms);\n};\n\nconst middleware2: Middleware = next => atoms => {\n  const crash = Math.random() > 0.6;\n  action(\n    `middleware2 handled actions ${atoms\n      .map(({ atom }) => atom.name)\n      .join(", ")} ${crash ? "and decided to crashed" : "and continued"}`\n  )();\n  if (crash) {\n    throw new Error("middleware2 crashed");\n  } else {\n    next(atoms);\n  }\n};\n\nconst middleware3: Middleware = next => atoms => {\n  action(\n    `middleware3 handled actions ${atoms\n      .map(({ atom }) => atom.name)\n      .join(", ")}`\n  )();\n  next(atoms);\n};\n\nexport const MultiMiddlewares = () => (\n  <MiddlewareProvider middlewares={[middleware3, middleware2, middleware1]}>\n    <SynergyProvider atoms={[countAtom]}>\n      <CounterButton />\n      <br />\n      Demo shows how multiple middlewares can be applied, and they are called in\n      sequence. In this example, the second middleware randomly crashes, causing\n      the third middleware to be skipped and the action will not further be\n      processed.\n    </SynergyProvider>\n  </MiddlewareProvider>\n);;\n\nexport const LoggingMiddlewareExample = () => (\n  <LoggingMiddlewareProvider>\n    <SynergyProvider atoms={[countAtom]}>\n      <CounterButton />\n      See console for the middleware logs.\n    </SynergyProvider>\n  </LoggingMiddlewareProvider>\n);;\n\nexport const StorybookMiddlewareExample = () => (\n  <StorybookMiddlewareProvider>\n    <SynergyProvider atoms={[countAtom]}>\n      <CounterButton />\n      See actions tab for middleware action logs.\n    </SynergyProvider>\n  </StorybookMiddlewareProvider>\n);\n\nexport default {parameters: {"storySource":{"source":"import {\\n  createAtom,\\n  MiddlewareProvider,\\n  Middleware,\\n  SynergyProvider,\\n} from \\"synergies\\";\\nimport { Button } from \\"@blueprintjs/core\\";\\nimport React from \\"react\\";\\nimport { action } from \\"@storybook/addon-actions\\";\\nimport { StorybookMiddlewareProvider } from \\"synergies-storybook-middleware\\";\\nimport { LoggingMiddlewareProvider } from \\"synergies-logging-middleware\\";\\n\\nconst countAtom = createAtom(0, \\"count\\");\\nconst useIncrease = countAtom.createAction(() => value => {\\n  value.current++;\\n});\\n\\nconst CounterButton = () => {\\n  const increase = useIncrease();\\n  const [value] = countAtom.useValue();\\n  return <Button onClick={increase}>Click to increase {value}</Button>;\\n};\\n\\nconst middleware1: Middleware = next => atoms => {\\n  action(\\n    `middleware1 handled actions ${atoms\\n      .map(({ atom }) => atom.name)\\n      .join(\\", \\")}`\\n  )();\\n  next(atoms);\\n};\\n\\nconst middleware2: Middleware = next => atoms => {\\n  const crash = Math.random() > 0.6;\\n  action(\\n    `middleware2 handled actions ${atoms\\n      .map(({ atom }) => atom.name)\\n      .join(\\", \\")} ${crash ? \\"and decided to crashed\\" : \\"and continued\\"}`\\n  )();\\n  if (crash) {\\n    throw new Error(\\"middleware2 crashed\\");\\n  } else {\\n    next(atoms);\\n  }\\n};\\n\\nconst middleware3: Middleware = next => atoms => {\\n  action(\\n    `middleware3 handled actions ${atoms\\n      .map(({ atom }) => atom.name)\\n      .join(\\", \\")}`\\n  )();\\n  next(atoms);\\n};\\n\\nexport const MultiMiddlewares = () => (\\n  <MiddlewareProvider middlewares={[middleware3, middleware2, middleware1]}>\\n    <SynergyProvider atoms={[countAtom]}>\\n      <CounterButton />\\n      <br />\\n      Demo shows how multiple middlewares can be applied, and they are called in\\n      sequence. In this example, the second middleware randomly crashes, causing\\n      the third middleware to be skipped and the action will not further be\\n      processed.\\n    </SynergyProvider>\\n  </MiddlewareProvider>\\n);\\n\\nexport const LoggingMiddlewareExample = () => (\\n  <LoggingMiddlewareProvider>\\n    <SynergyProvider atoms={[countAtom]}>\\n      <CounterButton />\\n      See console for the middleware logs.\\n    </SynergyProvider>\\n  </LoggingMiddlewareProvider>\\n);\\n\\nexport const StorybookMiddlewareExample = () => (\\n  <StorybookMiddlewareProvider>\\n    <SynergyProvider atoms={[countAtom]}>\\n      <CounterButton />\\n      See actions tab for middleware action logs.\\n    </SynergyProvider>\\n  </StorybookMiddlewareProvider>\\n);\\n\\nexport default {\\n  title: \\"Middlewares\\",\\n};\\n","locationsMap":{"multi-middlewares":{"startLoc":{"col":32,"line":56},"endLoc":{"col":1,"line":67},"startBody":{"col":32,"line":56},"endBody":{"col":1,"line":67}},"logging-middleware-example":{"startLoc":{"col":40,"line":69},"endLoc":{"col":1,"line":76},"startBody":{"col":40,"line":69},"endBody":{"col":1,"line":76}},"storybook-middleware-example":{"startLoc":{"col":42,"line":78},"endLoc":{"col":1,"line":85},"startBody":{"col":42,"line":78},"endBody":{"col":1,"line":85}}}},},\n  title: "Middlewares",\n};\n',locationsMap:{"multi-middlewares":{startLoc:{col:32,line:64},endLoc:{col:1,line:75},startBody:{col:32,line:64},endBody:{col:1,line:75}},"logging-middleware-example":{startLoc:{col:40,line:77},endLoc:{col:1,line:84},startBody:{col:40,line:77},endBody:{col:1,line:84}},"storybook-middleware-example":{startLoc:{col:42,line:86},endLoc:{col:1,line:93},startBody:{col:42,line:86},endBody:{col:1,line:93}}}}},_parameters.storySource={source:'import {\n  createAtom,\n  MiddlewareProvider,\n  Middleware,\n  SynergyProvider,\n} from "synergies";\nimport { Button } from "@blueprintjs/core";\nimport React from "react";\nimport { action } from "@storybook/addon-actions";\nimport { StorybookMiddlewareProvider } from "synergies-storybook-middleware";\nimport { LoggingMiddlewareProvider } from "synergies-logging-middleware";\n\nconst countAtom = createAtom(0, "count");\nconst useIncrease = countAtom.createAction(() => value => {\n  value.current++;\n});\n\nconst CounterButton = () => {\n  const increase = useIncrease();\n  const [value] = countAtom.useValue();\n  return <Button onClick={increase}>Click to increase {value}</Button>;\n};\n\nconst middleware1: Middleware = next => atoms => {\n  action(\n    `middleware1 handled actions ${atoms\n      .map(({ atom }) => atom.name)\n      .join(", ")}`\n  )();\n  next(atoms);\n};\n\nconst middleware2: Middleware = next => atoms => {\n  const crash = Math.random() > 0.6;\n  action(\n    `middleware2 handled actions ${atoms\n      .map(({ atom }) => atom.name)\n      .join(", ")} ${crash ? "and decided to crashed" : "and continued"}`\n  )();\n  if (crash) {\n    throw new Error("middleware2 crashed");\n  } else {\n    next(atoms);\n  }\n};\n\nconst middleware3: Middleware = next => atoms => {\n  action(\n    `middleware3 handled actions ${atoms\n      .map(({ atom }) => atom.name)\n      .join(", ")}`\n  )();\n  next(atoms);\n};\n\nexport const MultiMiddlewares = () => (\n  <MiddlewareProvider middlewares={[middleware3, middleware2, middleware1]}>\n    <SynergyProvider atoms={[countAtom]}>\n      <CounterButton />\n      <br />\n      Demo shows how multiple middlewares can be applied, and they are called in\n      sequence. In this example, the second middleware randomly crashes, causing\n      the third middleware to be skipped and the action will not further be\n      processed.\n    </SynergyProvider>\n  </MiddlewareProvider>\n);\n\nexport const LoggingMiddlewareExample = () => (\n  <LoggingMiddlewareProvider>\n    <SynergyProvider atoms={[countAtom]}>\n      <CounterButton />\n      See console for the middleware logs.\n    </SynergyProvider>\n  </LoggingMiddlewareProvider>\n);\n\nexport const StorybookMiddlewareExample = () => (\n  <StorybookMiddlewareProvider>\n    <SynergyProvider atoms={[countAtom]}>\n      <CounterButton />\n      See actions tab for middleware action logs.\n    </SynergyProvider>\n  </StorybookMiddlewareProvider>\n);\n\nexport default {\n  title: "Middlewares",\n};\n',locationsMap:{"multi-middlewares":{startLoc:{col:32,line:56},endLoc:{col:1,line:67},startBody:{col:32,line:56},endBody:{col:1,line:67}},"logging-middleware-example":{startLoc:{col:40,line:69},endLoc:{col:1,line:76},startBody:{col:40,line:69},endBody:{col:1,line:76}},"storybook-middleware-example":{startLoc:{col:42,line:78},endLoc:{col:1,line:85},startBody:{col:42,line:78},endBody:{col:1,line:85}}}},_parameters),title:"Middlewares"}},"./src/server-calls.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Example",(function(){return Example}));__webpack_require__("../../node_modules/core-js/modules/es.promise.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../node_modules/core-js/modules/web.timers.js"),__webpack_require__("../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.join.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../../node_modules/react/index.js");var _parameters,synergies__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../synergies/lib/esm/index.js"),synergies_storybook_middleware__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../synergies-storybook-middleware/lib/esm/index.js"),_blueprintjs_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../node_modules/@blueprintjs/core/lib/esm/components/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../node_modules/react/jsx-runtime.js");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}var isLoadingAtom=Object(synergies__WEBPACK_IMPORTED_MODULE_7__.c)(!1,"isLoading"),dataAtom=Object(synergies__WEBPACK_IMPORTED_MODULE_7__.c)(null,"data"),useFetchData=Object(synergies__WEBPACK_IMPORTED_MODULE_7__.d)(dataAtom,isLoadingAtom).createAction((function(){return function(){var _ref=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(data,isLoading){var res;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return isLoading.current=!0,isLoading=isLoading.trigger(),_context.next=4,fetch("https://pokeapi.co/api/v2/pokemon/pikachu");case 4:return res=_context.sent,_context.next=7,new Promise((function(r){return setTimeout(r,2e3)}));case 7:return _context.next=9,res.json();case 9:data.current=_context.sent,isLoading.current=!1;case 11:case"end":return _context.stop()}}),_callee)})));return function(_x,_x2){return _ref.apply(this,arguments)}}()})),useReset=dataAtom.createAction((function(){return function(data){data.current=null}})),usePokemonData=Object(synergies__WEBPACK_IMPORTED_MODULE_7__.d)(dataAtom,isLoadingAtom).createSelector((function(data,isLoading){return{data:data,isLoading:isLoading}})),Example=function Example(){var _usePokemonData=usePokemonData(),data=_usePokemonData.data,isLoading=_usePokemonData.isLoading,fetchData=useFetchData(),resetData=useReset();return data||isLoading?isLoading?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{children:"Loading..."}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{children:[data.name," has a height of ",data.height," and the abilities"," ",data.abilities.map((function(_ref2){return _ref2.ability.name})).join(", "),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_9__.a,{onClick:resetData,children:"Reset"})]}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_9__.a,{onClick:fetchData,children:"Load Pokemon"})};__webpack_exports__.default={parameters:(_parameters={storySource:{source:'\n    \n    // @ts-nocheck\n    // @ts-ignore\n    var __STORY__ = "import React from \\"react\\";\\nimport { createAtom, createSynergy, SynergyProvider } from \\"synergies\\";\\nimport { StorybookMiddlewareProvider } from \\"synergies-storybook-middleware\\";\\nimport { Button } from \\"@blueprintjs/core\\";\\n\\nconst isLoadingAtom = createAtom(false, \\"isLoading\\");\\nconst dataAtom = createAtom<{\\n  abilities: Array<{\\n    ability: {\\n      name: string;\\n    };\\n  }>;\\n  name: string;\\n  height: number;\\n} | null>(null, \\"data\\");\\n\\nconst useFetchData = createSynergy(dataAtom, isLoadingAtom).createAction(\\n  () => async (data, isLoading) => {\\n    isLoading.current = true;\\n    isLoading = isLoading.trigger();\\n    const res = await fetch(\\"https://pokeapi.co/api/v2/pokemon/pikachu\\");\\n    await new Promise(r => setTimeout(r, 2000)); // simulate a long request\\n    data.current = await res.json();\\n    isLoading.current = false;\\n  }\\n);\\n\\nconst useReset = dataAtom.createAction(() => data => {\\n  data.current = null;\\n});\\n\\nconst usePokemonData = createSynergy(dataAtom, isLoadingAtom).createSelector(\\n  (data, isLoading) => ({ data, isLoading })\\n);\\n\\nexport const Example = () => {\\n  const { data, isLoading } = usePokemonData();\\n  const fetchData = useFetchData();\\n  const resetData = useReset();\\n  return !data && !isLoading ? (\\n    <Button onClick={fetchData}>Load Pokemon</Button>\\n  ) : isLoading ? (\\n    <div>Loading...</div>\\n  ) : (\\n    <div>\\n      {data.name} has a height of {data.height} and the abilities{\\" \\"}\\n      {data.abilities.map(({ ability }) => ability.name).join(\\", \\")}\\n      <Button onClick={resetData}>Reset</Button>\\n    </div>\\n  );\\n};\\n\\nexport default {\\n  title: \\"Async Server Calls\\",\\n  decorators: [\\n    Story => (\\n      <StorybookMiddlewareProvider>\\n        <SynergyProvider atoms={[isLoadingAtom, dataAtom]}>\\n          <Story />\\n        </SynergyProvider>\\n      </StorybookMiddlewareProvider>\\n    ),\\n  ],\\n};\\n";\n    // @ts-ignore\n    var __LOCATIONS_MAP__ = {"Example":{"startLoc":{"col":23,"line":36},"endLoc":{"col":1,"line":51},"startBody":{"col":23,"line":36},"endBody":{"col":1,"line":51}}};\n    \nimport React from "react";\nimport { createAtom, createSynergy, SynergyProvider } from "synergies";\nimport { StorybookMiddlewareProvider } from "synergies-storybook-middleware";\nimport { Button } from "@blueprintjs/core";\n\nconst isLoadingAtom = createAtom(false, "isLoading");\nconst dataAtom = createAtom<{\n  abilities: Array<{\n    ability: {\n      name: string;\n    };\n  }>;\n  name: string;\n  height: number;\n} | null>(null, "data");\n\nconst useFetchData = createSynergy(dataAtom, isLoadingAtom).createAction(\n  () => async (data, isLoading) => {\n    isLoading.current = true;\n    isLoading = isLoading.trigger();\n    const res = await fetch("https://pokeapi.co/api/v2/pokemon/pikachu");\n    await new Promise(r => setTimeout(r, 2000)); // simulate a long request\n    data.current = await res.json();\n    isLoading.current = false;\n  }\n);\n\nconst useReset = dataAtom.createAction(() => data => {\n  data.current = null;\n});\n\nconst usePokemonData = createSynergy(dataAtom, isLoadingAtom).createSelector(\n  (data, isLoading) => ({ data, isLoading })\n);\n\nexport const Example = () => {\n  const { data, isLoading } = usePokemonData();\n  const fetchData = useFetchData();\n  const resetData = useReset();\n  return !data && !isLoading ? (\n    <Button onClick={fetchData}>Load Pokemon</Button>\n  ) : isLoading ? (\n    <div>Loading...</div>\n  ) : (\n    <div>\n      {data.name} has a height of {data.height} and the abilities{" "}\n      {data.abilities.map(({ ability }) => ability.name).join(", ")}\n      <Button onClick={resetData}>Reset</Button>\n    </div>\n  );\n};\n\nexport default {parameters: {"storySource":{"source":"import React from \\"react\\";\\nimport { createAtom, createSynergy, SynergyProvider } from \\"synergies\\";\\nimport { StorybookMiddlewareProvider } from \\"synergies-storybook-middleware\\";\\nimport { Button } from \\"@blueprintjs/core\\";\\n\\nconst isLoadingAtom = createAtom(false, \\"isLoading\\");\\nconst dataAtom = createAtom<{\\n  abilities: Array<{\\n    ability: {\\n      name: string;\\n    };\\n  }>;\\n  name: string;\\n  height: number;\\n} | null>(null, \\"data\\");\\n\\nconst useFetchData = createSynergy(dataAtom, isLoadingAtom).createAction(\\n  () => async (data, isLoading) => {\\n    isLoading.current = true;\\n    isLoading = isLoading.trigger();\\n    const res = await fetch(\\"https://pokeapi.co/api/v2/pokemon/pikachu\\");\\n    await new Promise(r => setTimeout(r, 2000)); // simulate a long request\\n    data.current = await res.json();\\n    isLoading.current = false;\\n  }\\n);\\n\\nconst useReset = dataAtom.createAction(() => data => {\\n  data.current = null;\\n});\\n\\nconst usePokemonData = createSynergy(dataAtom, isLoadingAtom).createSelector(\\n  (data, isLoading) => ({ data, isLoading })\\n);\\n\\nexport const Example = () => {\\n  const { data, isLoading } = usePokemonData();\\n  const fetchData = useFetchData();\\n  const resetData = useReset();\\n  return !data && !isLoading ? (\\n    <Button onClick={fetchData}>Load Pokemon</Button>\\n  ) : isLoading ? (\\n    <div>Loading...</div>\\n  ) : (\\n    <div>\\n      {data.name} has a height of {data.height} and the abilities{\\" \\"}\\n      {data.abilities.map(({ ability }) => ability.name).join(\\", \\")}\\n      <Button onClick={resetData}>Reset</Button>\\n    </div>\\n  );\\n};\\n\\nexport default {\\n  title: \\"Async Server Calls\\",\\n  decorators: [\\n    Story => (\\n      <StorybookMiddlewareProvider>\\n        <SynergyProvider atoms={[isLoadingAtom, dataAtom]}>\\n          <Story />\\n        </SynergyProvider>\\n      </StorybookMiddlewareProvider>\\n    ),\\n  ],\\n};\\n","locationsMap":{"example":{"startLoc":{"col":23,"line":36},"endLoc":{"col":1,"line":51},"startBody":{"col":23,"line":36},"endBody":{"col":1,"line":51}}}},},\n  title: "Async Server Calls",\n  decorators: [\n    Story => (\n      <StorybookMiddlewareProvider>\n        <SynergyProvider atoms={[isLoadingAtom, dataAtom]}>\n          <Story />\n        </SynergyProvider>\n      </StorybookMiddlewareProvider>\n    ),\n  ],\n};\n',locationsMap:{example:{startLoc:{col:23,line:44},endLoc:{col:1,line:59},startBody:{col:23,line:44},endBody:{col:1,line:59}}}}},_parameters.storySource={source:'import React from "react";\nimport { createAtom, createSynergy, SynergyProvider } from "synergies";\nimport { StorybookMiddlewareProvider } from "synergies-storybook-middleware";\nimport { Button } from "@blueprintjs/core";\n\nconst isLoadingAtom = createAtom(false, "isLoading");\nconst dataAtom = createAtom<{\n  abilities: Array<{\n    ability: {\n      name: string;\n    };\n  }>;\n  name: string;\n  height: number;\n} | null>(null, "data");\n\nconst useFetchData = createSynergy(dataAtom, isLoadingAtom).createAction(\n  () => async (data, isLoading) => {\n    isLoading.current = true;\n    isLoading = isLoading.trigger();\n    const res = await fetch("https://pokeapi.co/api/v2/pokemon/pikachu");\n    await new Promise(r => setTimeout(r, 2000)); // simulate a long request\n    data.current = await res.json();\n    isLoading.current = false;\n  }\n);\n\nconst useReset = dataAtom.createAction(() => data => {\n  data.current = null;\n});\n\nconst usePokemonData = createSynergy(dataAtom, isLoadingAtom).createSelector(\n  (data, isLoading) => ({ data, isLoading })\n);\n\nexport const Example = () => {\n  const { data, isLoading } = usePokemonData();\n  const fetchData = useFetchData();\n  const resetData = useReset();\n  return !data && !isLoading ? (\n    <Button onClick={fetchData}>Load Pokemon</Button>\n  ) : isLoading ? (\n    <div>Loading...</div>\n  ) : (\n    <div>\n      {data.name} has a height of {data.height} and the abilities{" "}\n      {data.abilities.map(({ ability }) => ability.name).join(", ")}\n      <Button onClick={resetData}>Reset</Button>\n    </div>\n  );\n};\n\nexport default {\n  title: "Async Server Calls",\n  decorators: [\n    Story => (\n      <StorybookMiddlewareProvider>\n        <SynergyProvider atoms={[isLoadingAtom, dataAtom]}>\n          <Story />\n        </SynergyProvider>\n      </StorybookMiddlewareProvider>\n    ),\n  ],\n};\n',locationsMap:{example:{startLoc:{col:23,line:36},endLoc:{col:1,line:51},startBody:{col:23,line:36},endBody:{col:1,line:51}}}},_parameters),title:"Async Server Calls",decorators:[function(Story){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(synergies_storybook_middleware__WEBPACK_IMPORTED_MODULE_8__.a,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(synergies__WEBPACK_IMPORTED_MODULE_7__.b,{atoms:[isLoadingAtom,dataAtom],children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(Story,{})})})}]}},"./src/todo-list.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Example",(function(){return Example}));__webpack_require__("../../node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.from.js");var _parameters,synergies__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../synergies/lib/esm/index.js"),_blueprintjs_core__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("../../node_modules/@blueprintjs/core/lib/esm/components/index.js"),synergies_storybook_middleware__WEBPACK_IMPORTED_MODULE_16__=(__webpack_require__("../../node_modules/react/index.js"),__webpack_require__("../synergies-storybook-middleware/lib/esm/index.js")),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("../../node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var filterAtom=Object(synergies__WEBPACK_IMPORTED_MODULE_13__.c)(!1,"filter"),itemsAtom=Object(synergies__WEBPACK_IMPORTED_MODULE_13__.c)([{todo:"First Todo",checked:!0},{todo:"Second Todo",checked:!1},{todo:"Third Todo",checked:!1}],"items"),inputValueAtom=Object(synergies__WEBPACK_IMPORTED_MODULE_13__.c)("","input"),useFilteredItems=Object(synergies__WEBPACK_IMPORTED_MODULE_13__.d)(itemsAtom,filterAtom).createSelector((function(items,filter){return items.filter((function(_ref){var checked=_ref.checked;return!filter||checked}))})),useAddTodo=Object(synergies__WEBPACK_IMPORTED_MODULE_13__.d)(itemsAtom,inputValueAtom).createAction((function(){return function(items,input){items.current.push({todo:input.current,checked:!1}),input.current=""}})),useToggleTodo=itemsAtom.createAction((function(id){return function(items){items.current[id].checked=!items.current[id].checked}})),useToggleFilter=filterAtom.createAction((function(){return function(filter){filter.current=!filter.current}})),List=function List(){var items=useFilteredItems(),toggle=useToggleTodo();return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.Fragment,{children:items.map((function(item,index){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_14__.b,{checked:item.checked,label:item.todo,onChange:function onChange(){return toggle(index)}},index)}))})},TodoInput=function TodoInput(){var value=_slicedToArray(inputValueAtom.useValue(),1)[0],setValue=inputValueAtom.useSet(),addTodo=useAddTodo();return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_14__.c,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_14__.d,{placeholder:"Add a todo",value:value,onChange:function onChange(e){return setValue(e.target.value)}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_14__.a,{onClick:addTodo,children:"Add"})]})};TodoInput.displayName="TodoInput";var FilterButton=function FilterButton(){var toggle=useToggleFilter(),isToggled=_slicedToArray(filterAtom.useValue(),1)[0];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_14__.a,{onClick:toggle,active:isToggled,children:"Only show completed todos"})};FilterButton.displayName="FilterButton";var Example=function Example(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(synergies_storybook_middleware__WEBPACK_IMPORTED_MODULE_16__.a,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(synergies__WEBPACK_IMPORTED_MODULE_13__.b,{atoms:[filterAtom],children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(FilterButton,{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(synergies__WEBPACK_IMPORTED_MODULE_13__.b,{atoms:[itemsAtom],children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(List,{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(synergies__WEBPACK_IMPORTED_MODULE_13__.b,{atoms:[inputValueAtom],children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(TodoInput,{})})]})]})})};Example.displayName="Example",__webpack_exports__.default={parameters:(_parameters={storySource:{source:'\n    \n    // @ts-nocheck\n    // @ts-ignore\n    var __STORY__ = "import { createAtom, createSynergy, SynergyProvider } from \\"synergies\\";\\nimport { Button, Checkbox, ControlGroup, InputGroup } from \\"@blueprintjs/core\\";\\nimport React from \\"react\\";\\nimport { StorybookMiddlewareProvider } from \\"synergies-storybook-middleware\\";\\n\\n// Atom name is optional and for debugging through middleware\\nconst filterAtom = createAtom(false, \\"filter\\");\\nconst itemsAtom = createAtom<Array<{ todo: string; checked: boolean }>>(\\n  [\\n    { todo: \\"First Todo\\", checked: true },\\n    { todo: \\"Second Todo\\", checked: false },\\n    { todo: \\"Third Todo\\", checked: false },\\n  ],\\n  \\"items\\"\\n);\\nconst inputValueAtom = createAtom(\\"\\", \\"input\\");\\n\\nconst useFilteredItems = createSynergy(itemsAtom, filterAtom).createSelector(\\n  (items, filter) => items.filter(({ checked }) => !filter || checked)\\n);\\n\\nconst useAddTodo = createSynergy(itemsAtom, inputValueAtom).createAction(\\n  () => (items, input) => {\\n    items.current.push({ todo: input.current, checked: false });\\n    input.current = \\"\\";\\n  }\\n);\\n\\nconst useToggleTodo = itemsAtom.createAction((id: number) => items => {\\n  items.current[id].checked = !items.current[id].checked;\\n});\\n\\nconst useToggleFilter = filterAtom.createAction(() => filter => {\\n  filter.current = !filter.current;\\n});\\n\\nconst List = () => {\\n  const items = useFilteredItems();\\n  const toggle = useToggleTodo();\\n\\n  return (\\n    <>\\n      {items.map((item, index) => (\\n        <Checkbox\\n          key={index}\\n          checked={item.checked}\\n          label={item.todo}\\n          onChange={() => toggle(index)}\\n        />\\n      ))}\\n    </>\\n  );\\n};\\n\\nconst TodoInput = () => {\\n  const [value] = inputValueAtom.useValue();\\n  const setValue = inputValueAtom.useSet();\\n  const addTodo = useAddTodo();\\n\\n  return (\\n    <ControlGroup>\\n      <InputGroup\\n        placeholder=\\"Add a todo\\"\\n        value={value}\\n        onChange={e => setValue(e.target.value)}\\n      />\\n      <Button onClick={addTodo}>Add</Button>\\n    </ControlGroup>\\n  );\\n};\\n\\nconst FilterButton = () => {\\n  const toggle = useToggleFilter();\\n  const [isToggled] = filterAtom.useValue();\\n  return (\\n    <Button onClick={toggle} active={isToggled}>\\n      Only show completed todos\\n    </Button>\\n  );\\n};\\n\\nexport const Example = () => (\\n  // We don\'t have to nest the providers so extremely, but this demonstrates how you can inject\\n  // atoms at any place in the hierarchy and they can still communicate upwards with other\\n  // atoms.\\n  <StorybookMiddlewareProvider>\\n    <SynergyProvider atoms={[filterAtom]}>\\n      <FilterButton />\\n      <SynergyProvider atoms={[itemsAtom]}>\\n        <List />\\n        <SynergyProvider atoms={[inputValueAtom]}>\\n          <TodoInput />\\n        </SynergyProvider>\\n      </SynergyProvider>\\n    </SynergyProvider>\\n  </StorybookMiddlewareProvider>\\n);\\n\\nexport default {\\n  title: \\"Todo List\\",\\n};\\n";\n    // @ts-ignore\n    var __LOCATIONS_MAP__ = {"Example":{"startLoc":{"col":23,"line":82},"endLoc":{"col":1,"line":97},"startBody":{"col":23,"line":82},"endBody":{"col":1,"line":97}}};\n    \nimport { createAtom, createSynergy, SynergyProvider } from "synergies";\nimport { Button, Checkbox, ControlGroup, InputGroup } from "@blueprintjs/core";\nimport React from "react";\nimport { StorybookMiddlewareProvider } from "synergies-storybook-middleware";\n\n// Atom name is optional and for debugging through middleware\nconst filterAtom = createAtom(false, "filter");\nconst itemsAtom = createAtom<Array<{ todo: string; checked: boolean }>>(\n  [\n    { todo: "First Todo", checked: true },\n    { todo: "Second Todo", checked: false },\n    { todo: "Third Todo", checked: false },\n  ],\n  "items"\n);\nconst inputValueAtom = createAtom("", "input");\n\nconst useFilteredItems = createSynergy(itemsAtom, filterAtom).createSelector(\n  (items, filter) => items.filter(({ checked }) => !filter || checked)\n);\n\nconst useAddTodo = createSynergy(itemsAtom, inputValueAtom).createAction(\n  () => (items, input) => {\n    items.current.push({ todo: input.current, checked: false });\n    input.current = "";\n  }\n);\n\nconst useToggleTodo = itemsAtom.createAction((id: number) => items => {\n  items.current[id].checked = !items.current[id].checked;\n});\n\nconst useToggleFilter = filterAtom.createAction(() => filter => {\n  filter.current = !filter.current;\n});\n\nconst List = () => {\n  const items = useFilteredItems();\n  const toggle = useToggleTodo();\n\n  return (\n    <>\n      {items.map((item, index) => (\n        <Checkbox\n          key={index}\n          checked={item.checked}\n          label={item.todo}\n          onChange={() => toggle(index)}\n        />\n      ))}\n    </>\n  );\n};\n\nconst TodoInput = () => {\n  const [value] = inputValueAtom.useValue();\n  const setValue = inputValueAtom.useSet();\n  const addTodo = useAddTodo();\n\n  return (\n    <ControlGroup>\n      <InputGroup\n        placeholder="Add a todo"\n        value={value}\n        onChange={e => setValue(e.target.value)}\n      />\n      <Button onClick={addTodo}>Add</Button>\n    </ControlGroup>\n  );\n};\n\nconst FilterButton = () => {\n  const toggle = useToggleFilter();\n  const [isToggled] = filterAtom.useValue();\n  return (\n    <Button onClick={toggle} active={isToggled}>\n      Only show completed todos\n    </Button>\n  );\n};\n\nexport const Example = () => (\n  // We don\'t have to nest the providers so extremely, but this demonstrates how you can inject\n  // atoms at any place in the hierarchy and they can still communicate upwards with other\n  // atoms.\n  <StorybookMiddlewareProvider>\n    <SynergyProvider atoms={[filterAtom]}>\n      <FilterButton />\n      <SynergyProvider atoms={[itemsAtom]}>\n        <List />\n        <SynergyProvider atoms={[inputValueAtom]}>\n          <TodoInput />\n        </SynergyProvider>\n      </SynergyProvider>\n    </SynergyProvider>\n  </StorybookMiddlewareProvider>\n);\n\nexport default {parameters: {"storySource":{"source":"import { createAtom, createSynergy, SynergyProvider } from \\"synergies\\";\\nimport { Button, Checkbox, ControlGroup, InputGroup } from \\"@blueprintjs/core\\";\\nimport React from \\"react\\";\\nimport { StorybookMiddlewareProvider } from \\"synergies-storybook-middleware\\";\\n\\n// Atom name is optional and for debugging through middleware\\nconst filterAtom = createAtom(false, \\"filter\\");\\nconst itemsAtom = createAtom<Array<{ todo: string; checked: boolean }>>(\\n  [\\n    { todo: \\"First Todo\\", checked: true },\\n    { todo: \\"Second Todo\\", checked: false },\\n    { todo: \\"Third Todo\\", checked: false },\\n  ],\\n  \\"items\\"\\n);\\nconst inputValueAtom = createAtom(\\"\\", \\"input\\");\\n\\nconst useFilteredItems = createSynergy(itemsAtom, filterAtom).createSelector(\\n  (items, filter) => items.filter(({ checked }) => !filter || checked)\\n);\\n\\nconst useAddTodo = createSynergy(itemsAtom, inputValueAtom).createAction(\\n  () => (items, input) => {\\n    items.current.push({ todo: input.current, checked: false });\\n    input.current = \\"\\";\\n  }\\n);\\n\\nconst useToggleTodo = itemsAtom.createAction((id: number) => items => {\\n  items.current[id].checked = !items.current[id].checked;\\n});\\n\\nconst useToggleFilter = filterAtom.createAction(() => filter => {\\n  filter.current = !filter.current;\\n});\\n\\nconst List = () => {\\n  const items = useFilteredItems();\\n  const toggle = useToggleTodo();\\n\\n  return (\\n    <>\\n      {items.map((item, index) => (\\n        <Checkbox\\n          key={index}\\n          checked={item.checked}\\n          label={item.todo}\\n          onChange={() => toggle(index)}\\n        />\\n      ))}\\n    </>\\n  );\\n};\\n\\nconst TodoInput = () => {\\n  const [value] = inputValueAtom.useValue();\\n  const setValue = inputValueAtom.useSet();\\n  const addTodo = useAddTodo();\\n\\n  return (\\n    <ControlGroup>\\n      <InputGroup\\n        placeholder=\\"Add a todo\\"\\n        value={value}\\n        onChange={e => setValue(e.target.value)}\\n      />\\n      <Button onClick={addTodo}>Add</Button>\\n    </ControlGroup>\\n  );\\n};\\n\\nconst FilterButton = () => {\\n  const toggle = useToggleFilter();\\n  const [isToggled] = filterAtom.useValue();\\n  return (\\n    <Button onClick={toggle} active={isToggled}>\\n      Only show completed todos\\n    </Button>\\n  );\\n};\\n\\nexport const Example = () => (\\n  // We don\'t have to nest the providers so extremely, but this demonstrates how you can inject\\n  // atoms at any place in the hierarchy and they can still communicate upwards with other\\n  // atoms.\\n  <StorybookMiddlewareProvider>\\n    <SynergyProvider atoms={[filterAtom]}>\\n      <FilterButton />\\n      <SynergyProvider atoms={[itemsAtom]}>\\n        <List />\\n        <SynergyProvider atoms={[inputValueAtom]}>\\n          <TodoInput />\\n        </SynergyProvider>\\n      </SynergyProvider>\\n    </SynergyProvider>\\n  </StorybookMiddlewareProvider>\\n);\\n\\nexport default {\\n  title: \\"Todo List\\",\\n};\\n","locationsMap":{"example":{"startLoc":{"col":23,"line":82},"endLoc":{"col":1,"line":97},"startBody":{"col":23,"line":82},"endBody":{"col":1,"line":97}}}},},\n  title: "Todo List",\n};\n',locationsMap:{example:{startLoc:{col:23,line:90},endLoc:{col:1,line:105},startBody:{col:23,line:90},endBody:{col:1,line:105}}}}},_parameters.storySource={source:'import { createAtom, createSynergy, SynergyProvider } from "synergies";\nimport { Button, Checkbox, ControlGroup, InputGroup } from "@blueprintjs/core";\nimport React from "react";\nimport { StorybookMiddlewareProvider } from "synergies-storybook-middleware";\n\n// Atom name is optional and for debugging through middleware\nconst filterAtom = createAtom(false, "filter");\nconst itemsAtom = createAtom<Array<{ todo: string; checked: boolean }>>(\n  [\n    { todo: "First Todo", checked: true },\n    { todo: "Second Todo", checked: false },\n    { todo: "Third Todo", checked: false },\n  ],\n  "items"\n);\nconst inputValueAtom = createAtom("", "input");\n\nconst useFilteredItems = createSynergy(itemsAtom, filterAtom).createSelector(\n  (items, filter) => items.filter(({ checked }) => !filter || checked)\n);\n\nconst useAddTodo = createSynergy(itemsAtom, inputValueAtom).createAction(\n  () => (items, input) => {\n    items.current.push({ todo: input.current, checked: false });\n    input.current = "";\n  }\n);\n\nconst useToggleTodo = itemsAtom.createAction((id: number) => items => {\n  items.current[id].checked = !items.current[id].checked;\n});\n\nconst useToggleFilter = filterAtom.createAction(() => filter => {\n  filter.current = !filter.current;\n});\n\nconst List = () => {\n  const items = useFilteredItems();\n  const toggle = useToggleTodo();\n\n  return (\n    <>\n      {items.map((item, index) => (\n        <Checkbox\n          key={index}\n          checked={item.checked}\n          label={item.todo}\n          onChange={() => toggle(index)}\n        />\n      ))}\n    </>\n  );\n};\n\nconst TodoInput = () => {\n  const [value] = inputValueAtom.useValue();\n  const setValue = inputValueAtom.useSet();\n  const addTodo = useAddTodo();\n\n  return (\n    <ControlGroup>\n      <InputGroup\n        placeholder="Add a todo"\n        value={value}\n        onChange={e => setValue(e.target.value)}\n      />\n      <Button onClick={addTodo}>Add</Button>\n    </ControlGroup>\n  );\n};\n\nconst FilterButton = () => {\n  const toggle = useToggleFilter();\n  const [isToggled] = filterAtom.useValue();\n  return (\n    <Button onClick={toggle} active={isToggled}>\n      Only show completed todos\n    </Button>\n  );\n};\n\nexport const Example = () => (\n  // We don\'t have to nest the providers so extremely, but this demonstrates how you can inject\n  // atoms at any place in the hierarchy and they can still communicate upwards with other\n  // atoms.\n  <StorybookMiddlewareProvider>\n    <SynergyProvider atoms={[filterAtom]}>\n      <FilterButton />\n      <SynergyProvider atoms={[itemsAtom]}>\n        <List />\n        <SynergyProvider atoms={[inputValueAtom]}>\n          <TodoInput />\n        </SynergyProvider>\n      </SynergyProvider>\n    </SynergyProvider>\n  </StorybookMiddlewareProvider>\n);\n\nexport default {\n  title: "Todo List",\n};\n',locationsMap:{example:{startLoc:{col:23,line:82},endLoc:{col:1,line:97},startBody:{col:23,line:82},endBody:{col:1,line:97}}}},_parameters),title:"Todo List"}},"./storybook-init-framework-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("../../node_modules/@storybook/react/dist/esm/client/index.js")},0:function(module,exports,__webpack_require__){__webpack_require__("../../node_modules/@storybook/react/node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_require__("../../node_modules/@storybook/react/node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_require__("./storybook-init-framework-entry.js"),__webpack_require__("../../node_modules/@storybook/addon-docs/dist/esm/frameworks/common/config.js-generated-config-entry.js"),__webpack_require__("../../node_modules/@storybook/addon-docs/dist/esm/frameworks/react/config.js-generated-config-entry.js"),__webpack_require__("../../node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_require__("../../node_modules/@storybook/addon-actions/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("../../node_modules/@storybook/addon-actions/dist/esm/preset/addArgs.js-generated-config-entry.js"),__webpack_require__("../../node_modules/@storybook/addon-links/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./.storybook/preview.js-generated-config-entry.js"),module.exports=__webpack_require__("./generated-stories-entry.js")},1:function(module,exports){}},[[0,5,6]]]);